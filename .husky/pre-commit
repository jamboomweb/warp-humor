#!/bin/sh

# Liste des termes interdits (Case insensitive)
FORBIDDEN="Warhammer|Space Marine|Imperium|Eldar|Necron|40k|Games Workshop"

# Recherche des termes dans les fichiers (.ts, .tsx, .json, .md ET .txt pour le test)
echo "üõ°Ô∏è  SCANNING FOR COPYRIGHT INFRINGEMENT (DMCA SHIELD)..."

# J'ai ajout√© ",txt" dans l'include ci-dessous
if grep -rEwq "$FORBIDDEN" --include=\*.{ts,tsx,json,md,txt} --exclude-dir={node_modules,dist,.git} .; then
    echo "‚ùå ERREUR CRITIQUE : Terme interdit d√©tect√© !"
    echo "   La propri√©t√© intellectuelle de Games Workshop a √©t√© trouv√©e."
    echo "   Veuillez remplacer ces termes par leurs √©quivalents parodiques."
    exit 1
fi

echo "‚úÖ Code Clean. Pas d'h√©r√©sie juridique d√©tect√©e."
